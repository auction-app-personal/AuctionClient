<div class="wrapper">
  @if(auction){
  <section class="about">
    <div class="heading">
      <h1>{{ auction.name }}</h1>
      <p>{{ auction.description }}</p>
      <div class="data">
        <ul>
          <li>Duration: {{ auction.duration }} min</li>
          <!-- make it show leftower time in real-time -->
          <li>Owner: {{ owner?.name }}</li>
          <!-- link to user acc -->
          <li>Start: {{ auction.startTimestamp | date:"dd/MM/yyyy 'at' HH:mm"}}</li>
        </ul>
      </div>
    </div>
  </section>
  @if(AuctionStatusHelpers.isCreated(auction)){
  <section class="lot-preview screen">
    <h2>Lot preview</h2>
    <app-lot-preview [lots]="lots!" />
  </section>
  } @else if(AuctionStatusHelpers.isActive(auction)) {
  <section class="lots">
    <div class="lot-view">
      <div class="lot-view-header">
        <div></div>
        <h2>Lot view</h2>
        <div class="lot-view-mode">
          <button class="button-green mode-button" (click)="showTable()">
            Grid
          </button>
          <button class="button-green mode-button" (click)="showSingle()">
            1 by 1
          </button>
        </div>
      </div>
      <div class="display-container">
        @if(tableView){
        <app-lot-table [lots]="lots"/>
        } @else{
        <app-lot-carousel-single [lots]="lots" />
        }
      </div>
    </div>
  </section>
  }
  <!-- <section class="join">
      <button (click)="joinAuction()" class="button-green">Join auction</button>
  </section> -->

  @if(AuctionStatusHelpers.isActive(auction)){
    <section class="bidding-journal screen">
      <div class="bidding-journal-header">
        <h2>Bidding journal</h2>
      </div>
      <app-bidding-journal [bids]="bids"/>
      <div class="bidding-journal-footer">
        <span>Time Remaining: </span>
        <span>Total money collected: {{ this.totalCollected }}</span>
      </div>
    </section>
  }

  } @else {
  <section class="no-auction screen">No auction</section>
  }
</div>
